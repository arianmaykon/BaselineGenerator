CREATE TABLE baseline (id BIGINT AUTO_INCREMENT, fk_system BIGINT NOT NULL, name VARCHAR(255) NOT NULL, type VARCHAR(255), publishtoftp TINYINT(1) DEFAULT '0' NOT NULL, sendmail TINYINT(1) DEFAULT '0' NOT NULL, sendavailabilitymail TINYINT(1) DEFAULT '0' NOT NULL, issues TEXT, generatedat DATE, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX fk_system_idx (fk_system), INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE parameter (id BIGINT AUTO_INCREMENT, jirabaseurl VARCHAR(255) NOT NULL, svnbaseurl VARCHAR(255) NOT NULL, ftphost VARCHAR(255), ftpuser VARCHAR(255), ftppassword VARCHAR(255), ftpport INT, testbaselinemailbody TEXT, releasebaselinemailbody TEXT, availabilitymailbody TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE system (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, acronym VARCHAR(10), jiracomponent VARCHAR(30) NOT NULL UNIQUE, dependencies VARCHAR(255), svncopyfolder VARCHAR(255), ftppath VARCHAR(255) DEFAULT '/' NOT NULL, releaseurl VARCHAR(255) NOT NULL, testurl VARCHAR(255) NOT NULL, sourcefoldercompressiontype VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, created_by BIGINT, updated_by BIGINT, INDEX created_by_idx (created_by), INDEX updated_by_idx (updated_by), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_group (id BIGINT AUTO_INCREMENT, guid VARCHAR(32) UNIQUE, name VARCHAR(255) NOT NULL UNIQUE, description TEXT, is_activated TINYINT(1), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_user (id BIGINT AUTO_INCREMENT, guid VARCHAR(32) NOT NULL UNIQUE, username VARCHAR(255), is_super_admin TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE vj_guard_a_d_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE baseline ADD CONSTRAINT baseline_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id);
ALTER TABLE baseline ADD CONSTRAINT baseline_fk_system_system_id FOREIGN KEY (fk_system) REFERENCES system(id);
ALTER TABLE baseline ADD CONSTRAINT baseline_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id);
ALTER TABLE parameter ADD CONSTRAINT parameter_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id);
ALTER TABLE parameter ADD CONSTRAINT parameter_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id);
ALTER TABLE system ADD CONSTRAINT system_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id);
ALTER TABLE system ADD CONSTRAINT system_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id);
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_group_permission ADD CONSTRAINT vpvi FOREIGN KEY (permission_id) REFERENCES vj_guard_a_d_permission(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_group_permission ADD CONSTRAINT vj_guard_a_d_group_permission_group_id_vj_guard_a_d_group_id FOREIGN KEY (group_id) REFERENCES vj_guard_a_d_group(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_user_group ADD CONSTRAINT vj_guard_a_d_user_group_user_id_vj_guard_a_d_user_id FOREIGN KEY (user_id) REFERENCES vj_guard_a_d_user(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_user_group ADD CONSTRAINT vj_guard_a_d_user_group_group_id_vj_guard_a_d_group_id FOREIGN KEY (group_id) REFERENCES vj_guard_a_d_group(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_user_permission ADD CONSTRAINT vpvi_1 FOREIGN KEY (permission_id) REFERENCES vj_guard_a_d_permission(id) ON DELETE CASCADE;
ALTER TABLE vj_guard_a_d_user_permission ADD CONSTRAINT vj_guard_a_d_user_permission_user_id_vj_guard_a_d_user_id FOREIGN KEY (user_id) REFERENCES vj_guard_a_d_user(id) ON DELETE CASCADE;
